<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" href="/assets/css/style.css?v=e2b063d11b5c15499d76b5399555b066ded25069">
    <title>whoimi by liangz0707</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>whoimi</h1>
        <h2>A geek blog</h2>
        <section id="downloads">
          
          <a href="http://github.com/liangz0707/whoimi" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1 id="docker简介">docker简介</h1>

<p>docker可以构建Build、运输Ship、运行Run</p>

<p>docker是一个一次建立到处运行的平台</p>

<h2 id="containers-vs-vms">Containers vs. VMs</h2>

<p>docker是容器  openstack是虚拟机</p>

<p>Docker组成 : Docker Client     / Docker Server</p>

<p>Docker组件：镜像Image（只读）  / 容器Container（对照JVM） / 仓库Repository（对照GitHub）</p>

<h2 id="改变工程交付的方式">改变工程交付的方式</h2>

<h2 id="docker-的使用场景">Docker 的使用场景：</h2>

<p>简化配置、提高开发效率、应用隔离、服务器整合、</p>

<p>Linux安装  Linux内置</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>sudo apt-get install docker.io
<span class="nb">source</span>  /etc/bash_completion.d/docker.io
</code></pre>
</div>

<p>启动容器</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker run -i<span class="o">(</span>表示为容器始终打开标准输入<span class="o">)</span> -t<span class="o">(</span>为容器分布一个伪ttp终端<span class="o">)</span>ubuntu /bin/bash
</code></pre>
</div>

<p>容器信息查看</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker ps <span class="o">[</span>-a]<span class="o">(</span>所有容器<span class="o">)</span> <span class="o">[</span>-l]<span class="o">(</span>最新容器<span class="o">)</span>  什么都不加表示正在运行中的容器
CONTAINER ID 容器的唯一ID             NAMES是docker守护进程分配的名字
docker inspect <span class="o">[</span>容器的名字 或  ID]   显示容器详细的信息
</code></pre>
</div>
<p>定义名字</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker run --name<span class="o">=[</span>容器名字] -i -t  ubuntu /bin/bash
</code></pre>
</div>

<p>重新启动已经停止的</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker start -i container01
</code></pre>
</div>

<p>删除已经停止的容器</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker rm  container01
</code></pre>
</div>

<p>始终运行的容器适用于在后台运行的服务  没有交互式回话</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker run -i -t ubuntu /bin/bash
</code></pre>
</div>

<p>使用 Ctrl-P  Ctrl-Q 的组合 退出交互式容器bash  这样容器会在后台运行</p>

<p>此时使用ps命令查看  就能看到  运行还在执行</p>

<p>回到正在执行的容器</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker attach <span class="o">[</span>name or ID]
</code></pre>
</div>

<p>在运行的容器中使用 exit  完全退出</p>

<p>使用run命令启动守护时容器，会返回一个ID</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker run --name <span class="o">[</span>A name] -d <span class="o">(</span>表示后台的方式启动<span class="o">)</span>  ubuntu<span class="o">(</span>镜像名字<span class="o">)</span> /bin/sh -c <span class="s2">"死循环"</span>
</code></pre>
</div>

<p>借助 logs 命令查看容器日志</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker logs <span class="o">[</span>-f]<span class="o">(</span>动态跟踪<span class="o">)</span>  <span class="o">[</span>-t]<span class="o">(</span>加上实际<span class="o">)</span> <span class="o">[</span>--tail] 返回后面的n条
</code></pre>
</div>

<p>top 可以查看运行中容器内进程的情况</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker  top <span class="o">[</span>name   or  ID]
</code></pre>
</div>

<p>使用exec 在已经运行的docker 容器中启动新进程</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker  <span class="nb">exec</span> <span class="o">[</span>-d] <span class="o">[</span>-i] <span class="o">[</span>-t]  容器名 <span class="o">[</span>COMMAND]  <span class="o">[</span>ARG]
</code></pre>
</div>

<p>使用stop 或 kill 停止  运行中的容器</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker  stop <span class="o">[</span>name or ID]
</code></pre>
</div>
<p>stop 是发送信号 等待容器的停止 ，停止后会返回容器的名字</p>

<p>kill 是直接杀死容器</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker  <span class="nb">kill</span> <span class="o">[</span>name or ID]
</code></pre>
</div>

<p>使用  man 查看详细介绍</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>man  docker-run
</code></pre>
</div>

<p><a href="/">back</a></p>


      </section>
    </div>

    


    <footer>
      text footer
    </footer>
  </body>
</html>