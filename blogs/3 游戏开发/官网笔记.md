# VR实验室项目组学习资料

# Roll-a-ball

## 什么样的游戏

玩家控制一个球在游戏板上滚动

用内力控制物体， 物体之间的联系的检测，拾取物体，记录分数

## 制作流程

建球，通过材质上色，材质文件夹，修改球的旋转匹配更好的光泽

给球添加刚体组件，添加移动脚本

典型的第三人称技巧：将相机作为主角的子物体

取消球引入的另外两个相机视角：使用脚本设置球和相机之间的位置，而非将相机作为主角的子物体

建造四周的空气墙

制作可自旋的拾取物并设置为预制件，复制，修改颜色

给球添加碰撞器，勾选trriger，编写OntriggerEnter的代码

使用comparetag+setactive的方法来关闭拾取物的显示

将拾取物设置为运动刚体以提高性能

编写拾取物体的计数部分

搭建显示分数的UI

编写在text显示当前分数的部分

搭建游戏结束的UI

编写显示游戏结束的部分

## 小技巧

MAC:COMMAND+'

WIN:CTRL+' 快速搜索我们正在使用的API的使用文档

跟踪摄像机、程序动画和收集最后的已知状态等最好使用LateUpdate

使用统一父物体以方便管理资产

移动对象时保持与地面平行：global模式+坐标面下移动物体

组件右侧的小书可以快速打开该组件的说明文档

使用tag+compareTag方法快速识别拾取物

unity的碰撞机制中，两个体积重叠的物体，静态物体往往仍保持静止；而勾选trriger后默认取消内置的碰撞机制而采取脚本控制的碰撞机制（否则碰撞物体只会DuangDuangDuang），详见OnCollision和OnTrigger

unity的性能优化：unity会将场景中所有静态物体的信息保存在缓存里，这样可以节省每帧重新计算该信息的时间，而当每次改变静态物体的transform时，unity会重新计算场景中所有静态物体的信息并更新缓存，并重新计算缓存需要占用的资源。而对于动态碰撞器的物体的信息，unity只会计算而不会将其保存在缓存里（具有collider和刚体组件的所有物体都被认为是动态的，而仅仅有collider但没有刚体组件的默认是静态的，这种拾取物的transform每次修改都会重新缓存因此可以修改成动态地来优化性能）

设置成运动刚体的好处：运动刚体不会对物理力产生反应，这样小球和拾取物既是添加了刚体组件也不会有碰撞的效果了；常用于动画处理和移动

小结：静态碰撞器不应该像墙壁和地板那样运动，动态物体可以移动必须具有刚体，标准刚体使用物理力移动，运动刚体使用修改transform移动

所有的UI元素都必须是子物体

canvas和eventsystem的使用--manual

UI中Rect变换的更多信息--manual

重新锚定是将UI移动到画布的左上角比较快速的办法：重新锚定的时候还必须设置枢轴以及基于新锚点的位置，操作是同时按住shift和alt键然后选择左上角的按钮。将ui稍稍远离画布边界的最简单办法是修改RectTransform的Pos X和Pos Y

进行UI部分的脚本编写前需要引入UI的命名空间

在一个脚本中编写相同的两行代码是不合编码原则的，因此将这行代码封装成一个函数是可行的办法

# U3DGameKit

使用probuilder搭建物体

使用polybrush修改地形

使用polybrush进行顶点着色

使用环境预制件

使用岩石和植被画家

Hierarchy的层次结构

搭建空气墙

触发式移动平台

触发计数器和开关

三种敌人的使用

创建陷阱

添加重生检查点

领取武器

恢复健康

场景传送



unity Learn Premium有27个主题