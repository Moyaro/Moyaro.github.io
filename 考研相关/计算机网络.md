# 计算机网络复习
[期末大题](https://www.bilibili.com/video/av64989536/?spm_id_from=333.788.videocard.1)
到上课时间：看首页和资料里的视频和PPT，然后完成作业和测试
学习通首页+资料+作业上课后到周五之前+每周五晚上周六上午考试（一小时以内）+讨论
手势签到15分 课程学习通首页音视频10分 资料阅读600分钟20分 作业在线做一份，作业本写一份
期末检查电子笔记必须是手写体

# 问题提纲与做题笔记

# 计算机网络体系结构
分层结构，模型功能及相关协议接口和服务，性能指标的计算
## 要听网课去理解的东西
1. OSI参考模型与TCP/IP模型
2. 计算机网络协议、接口、服务等概念
3. 网络体系结构的概念，分层的必要性（包括5层和7层结构）
4. 无连接服务和面向连接服务的联系和区别
## 重点
1. 计算机网络的三种定义：广义观点，资源共享观点，用户透明性观点
2. 组成：三部分组成，两种工作方式，两种功能组成
3. 功能：数据通信，资源共享，分布式处理，提高可靠性，负载均衡
4. 7大性能指标定义：带宽，时延，时延带宽积，往返时延，吞吐量，速率（最高数据率称为带宽），信道利用率
## 偏点
1. 分类：4种分布(覆盖)范围分类，2种传输技术分类，4种网络拓扑结构分类，2种使用者分类，3种交换技术分类，2种传输介质分类
2. RFC到因特网正式标准四个阶段和三大网络标准的标准化组织
3. 例题4、7、9、10、11、12、13-18，综合应用题

# 物理层
奈奎斯特定理和香农定理的应用、编码与调制技术、数据交换方式，电路交换、报文交换与分组交换技术
## 要听网课去理解的东西
1. 奈奎斯特定理和香农定理
2. 电路交换、报文交换与分组交换的工作方式与特点
3. 中继器和集线器的功能以及实现原理
4. 有关通信基础的基本概念
### 听课笔记

# 数据链路层
链路层基本概念和功能，滑动窗口机制、三种可靠传输协议、各种MAC协议、HDLC协议和PPP协议，特别是CSMA/CD协议和以太网帧格式，局域网的争用期和最小帧长的概念、二进制指数退避算法，中继器、网卡、集线器、网桥和局域网交换机的原理及区别
## 要听网课去理解的东西
1. 流量控制与可靠传输机制
2. PPP协议和CSMA/CD原理
3. 争用期和截断二进制指数退避算法！
4. 网桥的概念和基本原理
5. 组帧机制和差错控制机制
6. 循环冗余码和海明码
7. 以太网的MAC帧格式
### 听课笔记
运输层用来屏蔽应用层数据的杂毛数据变成无差异数据然后交给网络层，网络层把数据分组并加上报文，链路层处理这些数据（封装成帧）然后转换成电信号或光信号交给物理层进行传输
核心部分在解析出网络层的报文的目的地就可以往后传输了

链路可以理解成网线（物理通道），数据链路（两个节点之间的逻辑通道）=链路+其他物理设备+数据传输协议，节点和节点之间的协议才叫数据链路协议

封装成帧就是在一段数据前后分别添加首部和尾部
MTU帧的最大传送单元
SOH帧的首部，EOT帧的尾部
ESC转义字符

使用字符填充法弥补实现透明传输的缺陷
循环冗余检验CRC技术用来实现差错检测，降低误码率BER（传输错误的比特占所传输比特总数的比率）：详见天勤3.3异或运算实现循环冗余码中的二进制除法
CRC发送：运算就是在数据M后面添加供差错检验用的n位冗余码，然后构成一个帧发送出去，一共发送k+n位。然后将这n+k位数据对提前商量好的除数P做模2运算，然后将得到的余数R作为冗余码添加在数据M的后面发送出去
CRC检验：把收到的每一个帧都除以同样地除数P（模2运算或者说异或运算），然后检查得到余数R，若为0则这个帧没有差错，若余数R不等于0，则判定这个帧有差错，就丢弃
在数据后面添加上的冗余码成为帧检验序列FCS，CRC和FCS不一样，CRC是一种常用的检错方法，而FCS是添加在数据后面的冗余码，FCS可以用CRC这种方法得出，但CRC并非是得到FCS的唯一方法
要做到可靠传输（即发送什么就是什么）除了使用循环冗余检验CRC差错检测技术实现无差错计收，还必须加上确认和重传机制
流量控制：由收方控制发方的数据流；有确认有连接的流量控制方式，超时计时器，结局重复帧问题就是使每一个数据帧带上不同的发送序号，解决帧的编号过长问题就是使数据帧中的发送序号以0和1交替的方式出现在数据帧中

PPP协议是目前使用最广泛的在用户计算机和因特网服务提供者ISP进行通信时所使用的数据链路层协议
PPP协议的特点：简单，封装成帧，透明性，多种网络层协议，多种类型链路，差错控制，检测连接状态，最大传送单元，网络层地址协商，数据压缩协商
在TCP/IP协议族中，可靠传输由运输层的TCP协议负责，因此数据链路层的PPP协议不需要进行纠错，不需要设置序号，不需要进行流量控制，只支持单个点对点的链路通信，只支持全双工链路
PPP协议的组成：将IP数据报封装到串行链路的方法+用来建立、配置和测试数据链路的链路控制协议LCP（物理层）+一套网络控制协议（逻辑层）
PPP协议的帧格式：![](_v_images/20200420135536719_228264503.png)
字符填充法：硬件完成![](_v_images/20200420135937574_1035708379.png)
0比特填充法：
![](_v_images/20200420190511737_1795766918.png)

PC-光线调制器-光线调解器-集线器
## 重点
1. 为网络层提供的3类服务
2. 链路管理的定义
3. 帧定界、帧同步与透明传输的定义
4. 流量控制
5. 差错控制
6. 为什么既要加首部，又要加尾部？
7. 字符计数法
8. 字符填充的首尾定界符法？
9. 零比特填充的首尾标识法？
10. 违规编码法
## 偏点

# 网路层
## 要听网课去理解的东西
1. 子网划分和无分类编址CIDR
2. 路由与转发，即各种路由算法
3. IP地址的分类、IP数据报格式、NAT
4. ARP、DHCP和ICMP
5. 3种常用路由选择协议：RIP、OSPF、BGP
6. IP组播、移动IP的基本概念
7. 路由器的组成和功能
## 重点
> 4.1 网路层的功能
网络层的三个功能

> 4.2 路由算法
两种动态路由算法：距离-向量路由算法RIP和链路状态路由算法OSPF
链路状态路由算法的三大特征
如何理解层次路由的区域、区域边界路由器、骨干区域、0.0.0.0骨干区域、不同自治系统交换信息、自治系统边界路由器

> 4.3 IPv4
默认情况下讲IP数据包首部看成20B（20B=5*4B=160位）：版本4位，首部长度4位，区分服务8位，总长度16位（2B，1B就是1个字节=8位），标识16位，标志3位，片偏移13位，生存时间8位，协议8位，首部校验和16位，源地址字段32位，目的地址字段32位（重点记忆首部长度、总长度和片偏移）[IP数据报的首部](https://blog.csdn.net/cainv89/article/details/50676670)
首部长度占4位，但是以32位为单位？
说出IP数据包首部各个字段的意义和功能：IP的版本，长度4位能表示16个数象征首部长度为0-15字节，总长度16位是首部和数据之和的长度单位为字节，当一个数据报的长度唱过MTU时必须分片每次分片标识就会+1并赋值给新的表示字段，标志是分片简单的前后关系和能否分片的判断，片偏移表示分片在原分组的相对位置他表示的数的单位是8字节每个分片的长度一定是8B的整数倍，
[根据主机IP地址和子网掩码算主机ID](https://zhidao.baidu.com/question/1705827123612866980.html)
[CIDR的两类题型](https://www.iteye.com/blog/uule-2102484)

> 4.4 IPv6

> 4.5 路由协议

> 4.6 IP组播
组播的应用
人们需要什么样的组播机制
仅用于UDP协议而TCP协议受其定义只能单播
为什么使用组播的两个原因（一个特点+下面的一个优点）
组播组的2个特点
主机使用什么协议来加入组播组？使用该协议实现因特网组播的2个步骤？
每个D类IP地址标志一个组播组
组播数据包和一般的IP数据报的5个区别
IP组播的两个阶段
~~？D类IP地址与以太网组播地址的映射关系？
因特网组管理协议（使路由器知道组播成员）和组播路由选择协议（和其他路由协同）分别的功能是？
IGMP工作的两个阶段：第一个阶段发送-接受-转发三个方法，第二个阶段一个方法两个if
组播路由选择协议的目的？怎么理解这三个特点？？？~
实现因特网组播的三种路由算法？

> 4.7 移动IP
移动IP技术的两个要点
移动IP的目标
什么是移动结点
使用移动IP后移动结点的特性
本地代理和外部代理的区别
移动IP和移动自组网络的区别
移动IP和动态IP的区别
为什么要引入转交地址
移动IP的通信过程：连接外地链路-转交地址标识进行路由选择-if收到新转交地址，绑定以实现本地代理的注册（可以了解移动结点的当前位置）
什么是移动绑定
NET转换技术是否会改变源IP地址？
移动IP的基本通信流程：
```
移动节点类
while(1)
if(位置在本地) 
    使用主地址进行TCP/IP通信
    if（之前在外地又回到本地）注销转交地址（辅地址）
if(位置在外地网络) 
    （主地址不变）向本地代理注册当前位置地址（转交地址）
    if(需要发送IP数据包) 将IP数据包发给外网路由器或外部代理（IP数据报包含通信对端的地址）
    if（通过隧道有转交地址的信息过来） 解封IP数据报 保存发送过来的IP分组 根据报文类型进行处理
本地代理类
while（1）
if(收到转交地址注册) 构建隧道 封装IP数据报 通过隧道给转交地址发送截获的IP分组数据报 解除隧道
```
移动IP为移动主机设置了两个IP地址，即主地址和辅地址（转交地址）
## 偏点
1. 什么情况下网络层会丢弃IP数据报
2. 怎么理解尽最大努力交付
3. 路由表和转发表的区别
4. 能否用一个很大的交换机来代替互联网中很多的路由器
5. 拥塞控制和流量控制的区别
6. ipv4中IP组播地址在D类地址空间中分配
7. 



































1.物理层要尽可能地屏蔽掉物理设备和传输媒体,通信手段的不同,使数据链路层感觉不到这些差异,只考虑完成本层的协议和服务。
2.给其服务用户(数据链路层)在一条物理的传输媒体上传送和接收比特流(一般为串行按顺序传输的比特流)的能力,为此,物理层应该解决物理连接的建立、维持和释放问题。
3.在两个相邻系统之间唯一地标识数据电路。



电路交换：建立连接-通话-释放连接
报文交换：要发送的整块数据成为一个路由，通过路由转发
分组交换：采用存储转发的方式，把报文划分成一个个更小的等长的数据段
网络性能指标：
速率，宽带总时间延迟=发送时延+传播时延+处理时延+排队时延
时延带宽积=传播时延*带宽
信道利用率：某信道有百分之几的时间是被利用的
网络利用率：全网络的信道利用率的加权平均值，信道利用率并非越高越好（时延会急剧增大）
网络的体系结构就是网络的各层及其协议的集合
网络协议的三要素=语法+语义+同步

| 计算机网络概述 | 第1次笔记_软件18-4班元鹏 | 备注 |
| ------------ | --------------------- | --- |

| 网课安排          | 每次课看首页和资料里的视频和PPT，然后完成作业（周五之前）和测试（周五晚上）                                                                                                     | 1.手势签到15分 课程学习通首页音视频10分 资料阅读600分钟20分 作业在线做一份，作业本写一份2.期末检查电子笔记必须是手写体                                                                                                                                                                                                                                                                                                                                                              |
| 因特网的边缘部分   | 客户-服务器方式；对等连接方式(P2P,每一个主机既是客户又同时是服务器)                                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 因特网的核心部分   | 路由器：实现分组交换，即转发收到的分组，路由器收到一个分组，先暂时存储一下，检查其首部，查找转发表，按照首部中的目的地址，找到合适的接口转发出去，把分组交给下一个路由器。路由器就是链路的结点。 | 1.电路交换是必须经过建立连接-通话-释放连接三个步骤的信号交换方式2.电路交换通话的两个用户时钟始终占用端到端的通信资源，且其线路的传输效率往往很低（通信线路在大部分时间是空闲的）3.分组交换                                                                                                                                   ![](_v_images/20200319091408375_2116735532.png)4.                                           ![三种交换方式的比较](_v_images/20200319091527544_759990122.png)                                                                                                                                                          |
| 性能指标          | 速率和带宽区别？，吞吐量，时延，传播时延带宽积，往返时间RTT，利用率                                                                                                            | 1.1个bit就是二进制数字的一个0或1<br>2.总时延=发送时延（数据帧长度/发送速率）+传播时延（信道长度/电磁波在信道上的传播速率）+处理时延+排队时延，不能认为数据的发送速率越高，传送得就越快<br>3.高速网络链路提高的仅是数据的发送速率而不是bite在链路上的传播速率<br>4.光纤信道发送数据的速率可以很高，但传播速率却比铜线低<br>5.时延带宽积表示这样的链路可以容纳多少比特<br>6.往返时间带宽积表示如果发送错了发送方已经发送的比特<br>7.信道利用率指某信道有百分之几的时间是被利用（有数据通过），网络利用率是全网络的信道利用率的加权平均值，二者过高时时延会急剧增大 |
| 计算机网络体系结构的形成 |                                                                                                                                                                       1.分层的方法是为了解决两个相互通信的计算机系统必须进行复杂的高度协调工作<br>2.国际标准的OSI/RM制定周期太长，落后于非国际标准TCP/IP<br>3.网络的体系结构：计算机网络的各层及其协议的集合|                                                                                                                                                                                                                                                                                                                                              |
|    协议与划分层次             |                                                                                                                                                                      1.网络协议=语法（数据于控制信息的结构或格式）+语义（需要发出何种控制信息，完成何种动作以及做出何种响应）+同步（事件实现顺序的详细说明）<br>2.分层的好处：各层之间独立（利用接口降低问题的复杂程度），灵活性好（某层修改或取消易于实现），结构上可分割开（各层都可采用最合适的技术实现），易于实现和维护，能促进标准化工作（每层的功能及其提供的服务已有精确说明）<br>3.各层要实现的功能：差错控制，流量控制，分段和重装，复用和分用(发送端几个高层会话复用一条低层的链接，在接收端再进行分用),连接建立和释放(交换数据前先建立一条逻辑连接，数据传送结束后释放连接)|                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|     具有五层协议的体系结构            |                                                                                                                                                                      1.应用层：不同应用进程(程序)间通信和交互的规则，如万维网应用HTTP协议，电子邮件的SMTP协议，支持文件传送的FTP协议，应用层交互的数据单元称为报文<br>2.运输层：向两个主机进程之间的通信提供通用的数据传输服务，具有复用和分用的功能，主要有数据控制协议TCP(数据传输单位是报文段)和用户数据报协议UDP(数据传输单位是用户数据报)<br>3.网络层： |                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|                 |                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|                 |                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

定义不同

电路交换是指按照需求建立连接并允许专用这些连接直至它们被释放的这样一个过程。

分组交换是在通信过程中，通信双方以分组为单位、使用存储-转发机制实现数据交互的通信方式

结构不同

电路交换，其基本结构是由交换单元按照一定的拓扑结构扩展而成的

分组交换，其网络结构一般由分组交换组交换机、网络管理中心等基本设备组成

优缺点不同

电路交换的优点是数据传输可靠、迅速，数据不会丢失，且保持原来的序列，缺点是某些情况下，电路空闲是的信道容量被浪费

分组交换的优点是不同的数据分组可以在同一条链路上以动态共享和复用方式进行传输，通信资源利用率高，信道容量和吞吐量有很大提高，缺点是有时延抖动，开销大

| 物理层 |     |
| :---- | :-- |

| 物理层的主要任务 |  确定与传输媒体的接口的一些特性，如机械特性，电气特性，功能特性，规程特性   |
|          数据通信系统组成      |源系统、传输系统和目的系统；源点，发送器（调制解调器），接收器，终点    |
|         数据通信系统的基本概念       | 数据：运送信息的实体<br>信号：数据的电气的或电磁的表现<br>模拟的：连续变化的<br>数字的：取指是离散数值<br> 调制:把数字信号转换为模拟信号的过程<br>解调：把模拟信号转换为数字信号的过程   |
|   模拟与数据的数字和信号，再看网课             |  模拟数据-放大器调制器-模拟信号<br>模拟数据-PCM编码器-数字信号<br>数字数据-调制器-模拟信号<br>数字数据-数字发送器-数字信号<br>为什么信道传输时要用模拟信号：电缆传输的是一些频段:(传输频率和电压幅度等),0-220V的一个正弦函数|
|        有关信道的基本概念        |单向通信，双向交替通信，双向同时通信<br>基带信号：将数字信号1或0直接用两种不同的电压来表示，然后送到线路上去传输<br>宽带信号：将基带信号进行调制后形成的频分复用模拟信号<br>|
|                |     |
|                |     |
|                |     |
|                |     |
|                |     |


[toc]

# 什么是因特网
## 因特网的基本结构
主机或者端系统通过通信链路和分组交换机连接
通信链路由同轴电缆，铜线，光纤，和无限电频谱组成
分组交换机有路由器和链路层交换机两种
## 实现外网和内网的结构基础
端系统通过底层ISP接入因特网，每个ISP是一个由多个分组交换机和多端通信链路组成的网络，底层ISP通过国家的、国际的高层ISP互联起来，高层ISP是由通过高速光纤链路互联的高速路由器组成。
传输控制协议和国际协议：TCP/IP，是因特网最重要的协议
ps：IETF的RFC构成了因特网标准，定义了TCP、IP、HTTP、SMTP
## 链路，分组，分组交换机，路径
链路（公路）传输速率以bps度量
什么是分组（卡车）：发送端系统将数据分段，并为每段加上首部字节形成的信息包
分组交换机（立交桥）的工作：从它的一条入通信链路接受到达的分组，并从它的一条出通信链路转发该分组
路径就是两个主机之间的通信链路和分组交换机
## 一个端的软件在交付数据时怎么在因特网中指示另一个端的软件
用API应用程序编程接口规定向因特网提交数据的方式
## 计算机网络知识主要理解什么
网络协议的构成、原理和工作过程
## 因特网应用程序的两种结构
客户机-服务器和P2P
## 什么是接入网
端系统连接到其边缘路由器的物理链路
## 通过电信网络传输数据的两种基本方法的长处和短处
分组交换
电路交换
## 分组交换网中的时延、吞吐量和丢包的原因
## 传输、传播和排队时延以及用于吞吐量的简单定量模型
## 协议分层和服务模式
## 网络中的关键体系结构原则
## 章末总结
## 实验


















# 应用层
## 应用层协议原理
## HTTP协议
## FTP协议
## 电子邮件
## DNS
## P2P应用
## TCP套接字
## UDP套接字
# 运输层
# 网络层
# 链路层和局域网
