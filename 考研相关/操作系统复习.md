# 操作系统复习
[pv操作](https://www.bilibili.com/video/av66591220/?spm_id_from=333.788.videocard.2)
[学长牛逼](https://www.bilibili.com/video/av18273642?p=1)
# 问题提纲与做题笔记
# 操作系统概述
## 要听网课去理解的东西
## 重点
## 偏点

# 进程管理
## 要听网课去理解的东西
1. 进程的概念、进程与程序的异同、进程的组织结构（PCB的构造与功能）
2. 进程的3个状态及其转换；引起转换的典型事件
3. 处理机三级调度及之间的比较，典型的调度算法以及进程在不同调度算法下的执行顺序的确定、周转时间、等待时间等的计算
4. 临界区与临界资源、抢占式与非抢占式调度、进程同步与互斥的区别
5. 实现进程互斥的软件方法，用信号量保证进程之间的同步与互斥，几种常见的进程同步关系
6. 死锁的概念，发生死锁的4个必要条件，处理死锁的方法（死锁预防与死锁避免等），银行家算法
## 重点
1. 操作系统中进程的地位
2. 程序顺序执行的特征
3. 程序并发执行的特征
4. 什么叫程序执行的封闭性
5. Bernstein条件消除共享资源对并发执行的封闭性的形象，其内容是
1. 为什么要引入进程：多道程序环境下，描述和控制程序的并发执行，实现并发性和共享性
2. 传统操作系统中的进程的定义：进程是进程实体PCB的运行过程，是系统进行资源分配和调度的一个独立单位
6. 进程的特征是什么
7. 进程和程序的区别：动态性、暂时性、组成、执行与调用、并行特性
8. 进程和作业的区别：任务实体和执行实体，互相组成，批处理系统和多道程序系统
9. 进程的组成
10. 为什么说PCB是进程存在的唯一标志
11. 进程的5种基本状态
12. 进程状态的相互转换图
7. 进程用于系统进行资源分配和调度，这里的的系统资源是指什么
8. P原语和V原语执行后状态转换
9. 进程切换与调度的区别
10. 为什么引入线程
11. 进程和线程的任务
12. 线程的定义
13. 线程和进程的关系：线程是进程内一个相对独立的、可调度的执行单元
14. 什么是多线程
15. 操作系统内两种实现线程的方式：内核级线程和用户级线程
16. 内核级线程和用户级线程分别是如何实现线程的？
17. 线程和进程的区别：不同进程间切换线程会引起进程切换，线程可访问但几乎没有系统资源，进程之间和同一进程内的多个线程都可以并发执行，线程切换开销很小
18. 既可以使多个用户级线程真正意义上并行执行（一对一），又可以不限制用户级线程的数量（多对一，内核级线程数量有限）的是哪种多线程模式
19. 高级进程通信方式有哪三类
20. P、V原语成为两条低级进程通信原语
1. 处理机调度（即进程调度）的定义
2. 作业的三级调度
3. 三级调度的联系
4. 作业调度和进程调度的区别：一个为作业创建进程，一个执行进程，作业调度少，有的系统不一定需要作业调度
5. 常见的调度的基本原则或评价标准：CPU利用率，系统吞吐量，响应时间，周转时间（到达时间+等待时间=开始时间，开始时间+运行时间=完成时间，等待时间+运行时间=完成时间-等待时间=周转时间，周转时间/运行时间=带权周转时间）
6. 进程调度的功能：记录进程，选择进程，分配处理器
7. 使用进程调度的情况：当前进程结束或阻塞，调度新进程，调度方式影响，系统类型影响
8. 不能进行进程调度的情况：处理中断时，操作系统的内核程序临界区，执行原子操作时
9. 抢占式调度与非抢占式调度的区别：是否暂停正在执行的进程
10. 先来先服务调度算法的特点：有利于长进程，不利于短进程，不能作为分时系统和实时系统的主要调度策略
11. 短作业优先调度算法的特点：平均周转时间最短，对场作业不利
12. 优先级调度算法的特点：
13. 时间片轮转调度算法无法用于作业调度，特点是：时间片都系统的响应时间、就绪进程数目、系统的处理能力的影响
14. 高响应比优先算法仅用于作业调度，特点：响应比=(作业等待时间+作业运行时间)/作业估计时间
15. 多级队列调度算法仅用于进程调度
16. 多级反馈队列调度算法仅用于进程调度，特点：每个队列的时间片大小不同，如果一个进程在一个时间片结束时尚未完成则将装入第二个队列的的末尾，仅当前面的队列空闲才调度下面的队列
1. 为什么引入进程同步
2. 临界资源的定义
3. 临界资源的访问的4个部分
4. 同步的定义
5. 互斥的定义
6. 同步机制的四个准则
7. 实现临界区互斥的四种软件实现方法：单标志法，双标志法先检查，双标志法后检查，Peterson's Algorithm
8. 实现临界区互斥的两种硬件实现方法：中断屏蔽方法，硬件指令方法
9. 原语的定义
10. 如何实现对共享变量操作的原子性
11. 如何利用信号量实现同步、互斥、前驱关系
12. 分析进程同步和互斥问题的方法步骤
13. 为什么引入管程
## 偏点
1. 多道程序环境下，多个程序并发执行这些程序会怎样
2. 为什么引入进程控制块，PCB有什么功能
3. 怎么理解进程是动态的，进程映像静态的
4. 解释一下堆、栈、堆栈、堆和栈的三种区别、队列、堆和栈和队列的区别[堆、栈、堆栈和队列](https://www.cnblogs.com/guoxiaoyan/p/8664150.html)
5. 

# 内存管理
## 要听网课去理解的东西
## 重点



# 操作系统概述
第9次笔记




|                   | 第6次笔记_18-4班元鹏                                                                                                                                                                                                                                                                                                                                                                                                                     |
| :---------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 用信号量实现进程互斥 | ![A1955461D07A37B33812B2AABB25AA22](_v_images/20200407085344505_1302412326.jpg)                                                                                                                                                                                                                                                                                                                                                             |
| 用信号量实现进程同步 | ![4561D358CF54F3B51BD6213306C78BF3](_v_images/20200407085219751_888197981.jpg)                                                                                                                                                                                                                                                                                                                                                             |
| 生产者-消费者问题    | 1.（输入：互斥信号量mutex，资源信号量empty，资源信号量full。输出：在n个缓冲区的缓冲池，每个缓冲区只能存放一个类型为item的产品，生产者和消费者是相互等效的）2.每个程序中互斥的wait(mutex)和signal(mutex)必须成对出现3.对资源信号量empty和full的P、V操作成对出现，但它们分别处于不同的程序中例如P在计算进程中，而v则在打印进程中，计算进程若因执行P而阻塞，则以后将由打印进程将它唤醒4.每个程序中的P操作顺序不能颠倒，应先执行对资源信号量的P操作，然后再执行对互斥信号量的P操作，否则可能引起进程死锁。 |
|                   |                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                   |                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                   |                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                   |                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                   |                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                   |                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                   |                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                   |                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                   |                                                                                                                                                                                                                                                                                                                                                                                                                                       |



|                       | 第6次笔记_18-4班元鹏                                                                                                                                                                                                                                                                                                 |
| :-------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 信号量的含义           | 1.整型信号量用来表示临界资源的数目，只能用两个表准的原子操作wait(P，申请一个资源)和signal(V，释放一个资源)来访问。主要问题是，只要S<=0，wait操作就会不断地测试，因而整型信号没有遵循让权等待的规则2. 记录型信号量![](_v_images/20200403115006225_1266756007.png)3.AND型信号量：将进程在整个运行中需要的所有资源，一次性全部分配给进程，待进程使用完后一起释放 |
| 如何用信号量实现互斥    | 1.为该临界资源设置一互斥信号量mutex，并将其初值置为1，然后将访问该资源的临界区置于wait(mutex)和signal(mutex)之间                                                                                                                                                                                                                |
| 如何用信号量实现前趋关系 | 1.设置一个初值为0的共用信号量S，将signal(S)操作放在Pi之后，在Pj的前面插入wait(S)操作，以保证Pj在Pi完成后才开始执行                                                                                                                                                                                                               |



|                 | 第5次笔记_18-4班元鹏                                                                                                                                                                                                                                                                                                                                                                                                     |
| :-------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 进程控制          | 1.主要包括创建和终止进程以及负责进程运行过程中的状态转换等功能，通过原语实现2.操作系统内核运行在系统态（管态），而用户程序则都是运行在用户态（目态）3. 进程的创建4.进程的终止5.进程的阻塞和唤醒6.进程的挂起和激活                                                                                                                                                                                                                                  |
| 进程同步          | 1.进程同步指对多个相关进程在执行次序上进行协调，使系统中诸进程之间能按照一定的规则，共享资源和相互合作，从而使程序的执行具有可再现性质。用来实现同步的机制成为同步机制。系统必须保证互斥地使用临界资源2.进程之间两种形式的制约关系：间接相互制约（运算资源分配）和直接相互制约（进程合作时数据交换的缓冲区）3.临界资源CR是一次只能允许一个进程使用的资源，如打印机和共享变量；临界区CS指每个进程中访问临界资源的那段代码4.同步机制应遵循的的规则：空闲让进，忙则等待，优先等待，让权等待 |
| 经典进程的同步问题 | 1.生产者-消费者问题（输入：互斥信号量mutex，资源信号量empty，资源信号量full。输出：在n个缓冲区的缓冲池，每个缓冲区只能存放一个类型为item的产品，生产者和消费者是相互等效的）2.哲学家进餐问题（输入：为每支筷子分别设置一个初值为1的互斥信号量）3.读者-写者问题：多个读者可同时读一个共享对象，但不允许一个写者与读者同时访问共享对象，也不允许多个写者同时访问共享对象，否则会造成数据的不一致性                                                                           |
| 进程通信          |                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 线程的基本概念    |                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 线程的实现        |                                                                                                                                                                                                                                                                                                                                                                                                                       |


|              | 第4次笔记_18-4班元鹏                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| :----------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <br>进程的描述 | 1.PCB(进程控制块，一种专门的数据结构)+程序段+相关的数据段=一个进程实体，简称进程<br>2.定义：进程是进程实体的运行过程，是系统进行资源分配和调度的一个独立单位<br>3.功能：为了解决程序并发执行时的不可再现性使其正确地并发执行，并对并发执行的程序加以描述和控制<br>4.进程和程序是两个截然不同的概念，除了进程具有程序所没有的PCB结构外，还具有下面一些特征：动态性（具有一定的声明其，由创建而产生，由调度而执行，由撤销而消亡），并发性（多个进程实体同时存于内存中，且能在一段时间内同时执行，只有为程序创建进程后，多个程序才能正确地并发执行），独立性（进程实体可以独立运行、独立分配资源和独立接受调度），异步性（进程可按各自独立的、不可预知的速度向前推进，但操作系统必须保证并发执行的结果是可再现的）<br>5.进程和程序对比：进程是动态的，程序是静态的；进程是并发的，程序是顺序的；进程的数据结构=程序+数据+PCB；进程与程序不是一一对应的关系<br> 6.进程的三种基本状态：就绪状态，（是否得到CPU）执行状态，（正在执行的进程是否因某种事件的发生而暂时无法继续执行）阻塞状态 <br>7.进程的挂起状态，实质是使进程不能继续执行，使挂起后的进程处于就绪状态，不能再参与CPU的竞争，常用于进程兑换![](_v_images/20200327103417120_1924955354.png) |




| 课堂笔记            | 第3次笔记_18-4班元鹏                                                                                                                                                                                                                                                                                                                  |
| :----------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 共享性              | 1.系统中的资源可供内存中多个并发执行的进程同时使用                                                                                                                                                                                                                                                                                         |
| 异步性（不确定性）    | 1.程序何时执行，何时执行完成以及执行顺序不确定2. 程序执行时间上不确定，程序执行结果不能再现                                                                                                                                                                                                                                                     |
| 微内核结构OS         | 1.微内核结构>分层式结构>模块化结构2.微内核:在操作系统内核中只留下一些最基本的功能，而将其他服务尽可能地从内核中分离出去，用若干个运行在用户态下的进程(即服务器进程)来实现，形成所谓的"客户/服务器"模式。普通近乎进程(即客户进程)可通过内核向服务器进程发送请求，以取得操作系统的服务。3.微内核OS结构是建立在模块化、层次化结构的基础上，并采用了客户/服务器模式和面向对象的程序设计技术                                                                                                                                                                                                                                                                                                     |
| 章末填空题           | 1.提高资源利用率，方便用户4.并发性，共享性，虚拟性，异步性7.批处理，分时OS，实时OS 8.资源利用率高，吞吐量大，周转时间长，无交互能力9.人机交互，时间片，时间片轮转10.多路性，独立性，交互性，及时性11.并发，并行12.实时信息处理系统，实时控制系统，实时信息处理系统，实时控制系统                                                                                         |
| 学习指导与题解10页例4 | ？                                                                                                                                                                                                                                                                                                                                  |
| 前驱图和程序执行     | 1.有向无循环图，描述程序或进程执行的先后顺序2.顺序执行具有顺序性，封闭性和可再现性3.并发执行是同一时间段内同时执行(并发执行的条件-Bernstein条件，课上讲了会考吗？)，并发执行特征是间断性（程序运行中的执行-暂停-执行），失去封闭性（不再独占系统的全部资源，程序本身的执行环境会受到外界程序的影响）和不可再现性（相同程序多次重复执行可能会得到不同的结果）                        |


| 课堂笔记           | 第2次笔记_软件18-4班元鹏                                                                                                    |                                                                                      |
| :---------------- | :---------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------- |
| 操作系统的目标      | 方便性，有效性，可扩充性，开放性                                                                                             |                                                                                      |
| 单道批处理系统      | 分为联机批处理和脱机批处理，举例：打印机                                                                                      |                                                                                      |
| 多道批处理的优缺点   | 1.成批、多道（资源利用率高）2.高效（系统吞吐量大）3.作业周转时间长4.人脱机（无交互能力）                                            |                                                                                      |
| 分时操作系统        | 定义：一种联机的、多用户的、交互的操作系统。UNIX是典型的分时系统。                                                                | 实现方式：一台主机外接多个终端，CPU采用把时间分片的方法轮流为每个终端用户服务                   |
| 分时操作系统的特点   | 优缺点：1.交互性2.多用户同时性（多路调制性）<br>3.独立性（独占中断，彼此独立操作，互补干扰）<br>4.及时性（以人们所能接受的等待时间来确定） | 使用范围：开发调试，测试软件性能，小作业                                                   |
| 实时操作系统        | 工厂的生产控制，控制导弹发射这些需要在规定时间内处理完的问题，分时和批处理都解决不了，需要实时操作系统                                 | 分类：强实时系统（时间应得到完全满足，航天和军事）和弱实时系统（可以适当延迟，银行系统和订票系统） |
| 实时系统的特点      | 实时性，可靠性，安全性，专用性，有限交互                                                                                      |                                                                                      |
| 操作系统的近一步发展 | 网络操作系统，分布式操作系统，嵌入式操作系统                                                                                   | 通用操作系统：同时兼有多道批处理，分时，实时三种系统的功能                                   |
| 操作系统的基本特性   | 并发性，共享性，虚拟性，异步性（不确定性）                                                                                    |                                                                                      |
| 并发性             | 并发定义：同一时间段内执行多个程序；并行定义同一时刻发生多个事件                                                                  | 并发和并行区别：并行的事件或活动一定是并发的，反之不一定成立                                  |
| 虚拟性             | 涉及空分复用技术，即将空间分成多个区域，不同区域配给不同的程序以达到共享的目的                                                      |                                                                                      |


| 课堂笔记      | 第1次笔记_18-4班元鹏                                                                                                                                                                                                                                                 |
| :----------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 掌握          | 操作系统的基本概念，原理，内部结构，实现操作系统的关键技术，工程方法，实现过程                                                                                                                                                                                                |
| 课程核心      | 能够应用高级程序设计语言对操作系统的核心算法进行实现和分析：内存和CPU的高效调度                                                                                                                                                                                               |
| 考核          | 作业10，出勤和表现10，过程性考核（笔记）10，上机实验10，期末考试60                                                                                                                                                                                                          |
| 课堂笔记      | 每次手写课堂笔记/作业1页，当天晚10点前拍照发到6055416@163.com,主题为:第X次笔记_18-4班元鹏，文件格式:第X次笔记_18-4班元鹏.jpg                                                                                                                                                      |
| 本章重点      | 1.OS的功能，定义和目的，类型和基本特征2.分时，实时及批处理三种系统中每种系统的特点和适用范围3.时间片，躲到程序设计，吞吐量，并发及并行的概念                                                                                                                                          |
| 计算机系统发展 | 手工阶段-单道批处理系统-多道批处理系统-分时操作系统-实时系统-微机操作系统                                                                                                                                                                                                    |
| OS定义        | 1.资源管理角度：控制管理软硬件资源，合理组织计算机工作流程，方便用户的一种程序集合<br>2.用户角度：配置在计算机硬件上的第一层软件，对硬件系统的第一次扩充                                                                                                                                |
| OS作用        | 1.用户与硬件系统之间的接口<br>2.计算机系统资源的管理者<br>3.用作扩充机器（覆盖了软件的机器，裸机是无任何软件的计算机系统）                                                                                                                                                         |
| 单道批处理系统 | 解决CPU与I/O设备速度不匹配的矛盾，单道性，成批性                                                                                                                                                                                                                         |
| 问题1         | 如果两道作业,每道作业I/O需要20ms,计算需要10ms,I/O延迟忽略,两道作业完成总共需要多少ms?CPU利用率是多少?有什么问题?能不能改进.       共需要60ms，cpu利用率是33.3%，必须第一道作业所有处理都完成才能进行第二道作业的处理，采用流水线优化，在第一道作业I/O结束后，可同时进行第一道作业的计算和第二道作业的I/O |